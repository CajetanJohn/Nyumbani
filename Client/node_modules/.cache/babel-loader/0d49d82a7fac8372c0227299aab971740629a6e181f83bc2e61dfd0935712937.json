{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/Nyumbani/Client/src/Components/Feed/FeedPhotos/FeedPhotos.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from 'react';\nimport './Style.css';\nimport './Loading.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FeedPhotos = ({\n  id\n}) => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [photos, setPhotos] = useState([]);\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n  useEffect(() => {\n    const fetchPhotos = async () => {\n      try {\n        const response = await fetch(`/api/photos/${id}`);\n        const photosData = await response.json();\n        setPhotos(photosData);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching photos:', error);\n        setLoading(false);\n      }\n    };\n    fetchPhotos();\n  }, [id]);\n  const handleLikeClick = async photoId => {\n    try {\n      const response = await fetch(`/api/photos/${photoId}/like`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        setPhotos(prevPhotos => prevPhotos.map(photo => photo._id === photoId ? {\n          ...photo,\n          likes: photo.likes + 1\n        } : photo));\n      }\n    } catch (error) {\n      console.error('Error liking photo:', error);\n    }\n  };\n  const handlePrevPhoto = () => {\n    setCurrentPhotoIndex(prevIndex => prevIndex === 0 ? photos.length - 1 : prevIndex - 1);\n  };\n  const handleNextPhoto = () => {\n    setCurrentPhotoIndex(prevIndex => prevIndex === photos.length - 1 ? 0 : prevIndex + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    feed: loading && 'loading',\n    className: \"feed-information\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feed-info-details\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `photo-container ${index === currentPhotoIndex ? 'active' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: photo.imageUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: photo.imageUrl,\n            alt: `Photo ${index}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Likes: \", photo.likes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Date Posted: \", photo.datePosted]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), photo.links && /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: photo.links.map((link, linkIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: link,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: [\"Link \", linkIndex + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 25\n              }, this)\n            }, linkIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleLikeClick(photo._id),\n          children: \"Like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"prev-button\",\n        onClick: handlePrevPhoto,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"next-button\",\n        onClick: handleNextPhoto,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feed-info-map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(FeedPhotos, \"BaW4QkhYolWMoIrja73xAlNyZxk=\");\n_c = FeedPhotos;\nvar _c;\n$RefreshReg$(_c, \"FeedPhotos\");","map":{"version":3,"names":["useRef","useState","useEffect","jsxDEV","_jsxDEV","FeedPhotos","id","_s","loading","setLoading","photos","setPhotos","currentPhotoIndex","setCurrentPhotoIndex","fetchPhotos","response","fetch","photosData","json","error","console","handleLikeClick","photoId","method","ok","prevPhotos","map","photo","_id","likes","handlePrevPhoto","prevIndex","length","handleNextPhoto","feed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","href","imageUrl","target","rel","src","alt","datePosted","links","link","linkIndex","onClick","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/Nyumbani/Client/src/Components/Feed/FeedPhotos/FeedPhotos.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport './Style.css';\nimport './Loading.css';\n\nexport const FeedPhotos = ({ id }) => {\n  const [loading, setLoading] = useState(true);\n  const [photos, setPhotos] = useState([]);\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n\n  useEffect(() => {\n    const fetchPhotos = async () => {\n      try {\n        const response = await fetch(`/api/photos/${id}`);\n        const photosData = await response.json();\n        setPhotos(photosData);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching photos:', error);\n        setLoading(false);\n      }\n    };\n\n    fetchPhotos();\n  }, [id]);\n\n  const handleLikeClick = async (photoId) => {\n    try {\n      const response = await fetch(`/api/photos/${photoId}/like`, {\n        method: 'POST',\n      });\n\n      if (response.ok) {\n        setPhotos((prevPhotos) =>\n          prevPhotos.map((photo) =>\n            photo._id === photoId ? { ...photo, likes: photo.likes + 1 } : photo\n          )\n        );\n      }\n    } catch (error) {\n      console.error('Error liking photo:', error);\n    }\n  };\n\n  const handlePrevPhoto = () => {\n    setCurrentPhotoIndex((prevIndex) => (prevIndex === 0 ? photos.length - 1 : prevIndex - 1));\n  };\n\n  const handleNextPhoto = () => {\n    setCurrentPhotoIndex((prevIndex) => (prevIndex === photos.length - 1 ? 0 : prevIndex + 1));\n  };\n\n  return (\n    <div feed={loading && 'loading'} className='feed-information'>\n      <div className='feed-info-details'>\n        {loading ? (\n          <div className='loading-spinner'>Loading...</div>\n        ) : (\n          photos.map((photo, index) => (\n            <div key={index} className={`photo-container ${index === currentPhotoIndex ? 'active' : ''}`}>\n              <a href={photo.imageUrl} target='_blank' rel='noopener noreferrer'>\n                <img src={photo.imageUrl} alt={`Photo ${index}`} />\n              </a>\n              <div className='photo-details'>\n                <span>Likes: {photo.likes}</span>\n                <span>Date Posted: {photo.datePosted}</span>\n                {photo.links && (\n                  <ul>\n                    {photo.links.map((link, linkIndex) => (\n                      <li key={linkIndex}>\n                        <a href={link} target='_blank' rel='noopener noreferrer'>\n                          Link {linkIndex + 1}\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n              <button onClick={() => handleLikeClick(photo._id)}>Like</button>\n            </div>\n          ))\n        )}\n        <button className='prev-button' onClick={handlePrevPhoto}>\n          Previous\n        </button>\n        <button className='next-button' onClick={handleNextPhoto}>\n          Next\n        </button>\n      </div>\n      <div className='feed-info-map'></div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}